webpackJsonp([1],{"+/Bo":function(t,e){},"1noW":function(t,e){},"3oYf":function(t,e){},"9n10":function(t,e){},A2JO:function(t,e){},IFsJ:function(t,e){},M6Sr:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]};var a=i("VU/8")({},n,!1,function(t){i("f3ib")},null,null).exports,r=i("/ocq"),c=i("Dd8w"),o=i.n(c),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"back"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])]),this._v(" "),e("input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入城市/景点游玩主题"}}),this._v(" "),e("router-link",{attrs:{to:"/city"}},[e("div",{staticClass:"city"},[e("span",[this._v(this._s(this.$store.state.city))]),this._v(" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-xiala"}})])])])],1)},staticRenderFns:[]};var d=i("VU/8")({name:"HomeHeader"},l,!1,function(t){i("IFsJ")},"data-v-613ff8db",null).exports,u={name:"HomeSwipe",props:{list:Array},data:function(){return{}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper"},[e("mt-swipe",{attrs:{auto:4e3}},this._l(this.list,function(t){return e("mt-swipe-item",{key:t.id},[e("img",{staticClass:"swiper-img",attrs:{src:t.imgUrl}})])}))],1)},staticRenderFns:[]};var h=i("VU/8")(u,m,!1,function(t){i("3oYf")},"data-v-4671348f",null).exports,v={name:"HomeIcon",props:{list:Array}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icons"},t._l(t.list,function(e){return i("div",{key:e.id,staticClass:"icon"},[i("div",{staticClass:"icon-img"},[i("img",{staticClass:"img",attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("p",{staticClass:"p"},[t._v(t._s(e.desc))])])}))},staticRenderFns:[]};var p=i("VU/8")(v,f,!1,function(t){i("A2JO")},"data-v-600bc715",null).exports,y={name:"HomeReconmend",props:{list:Array}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reconmend"},[i("div",{staticClass:"reconmend-title"},[t._v("热销推荐")]),t._v(" "),i("ul",t._l(t.list,function(e){return i("router-link",{key:e.id,staticClass:"item",attrs:{tag:"li",to:"/detail/"+e.id}},[i("div",{staticClass:"img-ct"},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))]),t._v(" "),i("button",{staticClass:"item-btn"},[t._v("查看详情")])])])}))])},staticRenderFns:[]};var _=i("VU/8")(y,C,!1,function(t){i("mhkY")},"data-v-e4ddcb80",null).exports,g={name:"HomeWeekend",props:{weedendlist:Array}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reconmend"},[i("div",{staticClass:"reconmend-title"},[t._v("周末去哪玩")]),t._v(" "),i("ul",t._l(t.weedendlist,function(e){return i("li",{key:e.id,staticClass:"item"},[i("div",{staticClass:"img-ct"},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))])])])}))])},staticRenderFns:[]};var k=i("VU/8")(g,w,!1,function(t){i("pNY7")},"data-v-5caf33ba",null).exports,x=i("mtWM"),b=i.n(x),I=i("NYxO"),S={name:"Home",components:{HomeHeader:d,HomeSwipe:h,HomeIcon:p,HomeReconmend:_,HomeWeekend:k},data:function(){return{lastCity:"",swiperlist:[],weekendlist:[],recommendList:[],iconList:[]}},computed:o()({},Object(I.b)(["city"])),methods:{getHomeInfo:function(){b.a.get("/travel/dist/static/mock/index.json?city="+this.city).then(this.getHomeInfoSucc)},getHomeInfoSucc:function(t){if((t=t.data).ret&&t.data){var e=t.data;this.swiperlist=e.swiperList,this.weekendlist=e.weekendList,this.recommendList=e.recommendList,this.iconList=e.iconList}}},mounted:function(){this.lastCity=this.city,this.getHomeInfo()},activated:function(){this.lastCity!==this.city&&(this.lastCity=this.city,this.getHomeInfo())}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("home-header"),t._v(" "),i("home-swipe",{attrs:{list:t.swiperlist}}),t._v(" "),i("home-icon",{attrs:{list:t.iconList}}),t._v(" "),i("home-reconmend",{attrs:{list:t.recommendList}}),t._v(" "),i("home-weekend",{attrs:{weedendlist:t.weekendlist}})],1)},staticRenderFns:[]};var $=i("VU/8")(S,H,!1,function(t){i("+/Bo")},null,null).exports,N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"back"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])])]),this._v("\n    \n    城市选择   \n    \n")],1)},staticRenderFns:[]};var U=i("VU/8")({name:"CityHeader"},N,!1,function(t){i("ZkW+")},"data-v-1fc764c2",null).exports,E={name:"CityInput",props:{cities:Object},data:function(){return{keyword:"",city:[],timer:null}},methods:{handleCityClick:function(t){this.$store.commit("changeCity",t),this.$router.push("/")}},computed:{hasNoCity:function(){return!this.city.length}},watch:{keyword:function(){var t=this;this.keyword?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var e=[];for(var i in t.cities)t.cities[i].forEach(function(i){(i.spell.indexOf(t.keyword)>-1||i.name.indexOf(t.keyword)>-1)&&e.push(i)});t.city=e},100)):this.city=[]}}},F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入城市或拼音"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],staticClass:"search-content"},[i("ul",[t._l(t.city,function(e,s){return i("li",{key:s,staticClass:"search-item",on:{click:function(i){t.handleCityClick(e.name)}}},[t._v(t._s(e.name))])}),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.hasNoCity,expression:"hasNoCity"}],staticClass:"search-item"},[t._v("没有匹配到数据")])],2)])])},staticRenderFns:[]};var L=i("VU/8")(E,F,!1,function(t){i("rUYx")},"data-v-00fd30c3",null).exports,R={name:"CityList",props:{cities:Object,hotcities:Array},methods:{handleCityClick:function(t){this.$store.commit("changeCity",t),this.$router.push("/")}}},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{staticClass:"area"},[i("mt-index-list",[i("div",{staticClass:"area"},[i("div",{staticClass:"title"},[t._v("当前城市")]),t._v(" "),i("div",{staticClass:"button-list"},[i("div",{staticClass:"button-wrapper"},[i("div",{staticClass:"button"},[t._v(t._s(this.$store.state.city))])])])]),t._v(" "),i("div",{staticClass:"area"},[i("div",{staticClass:"title"},[t._v("热门城市")]),t._v(" "),i("div",{staticClass:"button-list"},t._l(t.hotcities,function(e){return i("div",{key:e.id,staticClass:"button-wrapper",on:{click:function(i){t.handleCityClick(e.name)}}},[i("div",{staticClass:"button"},[t._v(t._s(e.name))])])}))]),t._v(" "),t._l(t.cities,function(e,s){return i("mt-index-section",{key:s,attrs:{index:s}},[i("div",{staticClass:"item-list"},t._l(e,function(e){return i("div",{key:e.id,staticClass:"item",on:{click:function(i){t.handleCityClick(e.name)}}},[t._v("\n                    "+t._s(e.name))])}))])})],2)],1)])},staticRenderFns:[]};var A={name:"City",components:{CityHeader:U,CityInput:L,CityList:i("VU/8")(R,V,!1,function(t){i("jayz")},"data-v-1ddd89a1",null).exports},data:function(){return{cities:{},hotcities:[]}},methods:{getCityInfo:function(){b.a.get("/travel/dist/static/mock/city.json").then(this.getCityInfoSucc)},getCityInfoSucc:function(t){if((t=t.data).ret&&t.data){var e=t.data;this.cities=e.cities,this.hotcities=e.hotCities}console.log(t)}},mounted:function(){this.getCityInfo()}},O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("city-header"),this._v(" "),e("city-input",{attrs:{cities:this.cities}}),this._v(" "),e("city-list",{attrs:{cities:this.cities,hotcities:this.hotcities}})],1)},staticRenderFns:[]};var j=i("VU/8")(A,O,!1,function(t){i("rN7C")},null,null).exports,B={name:"CommonGallery",props:{imgs:{type:Array,default:function(){return[]}}},data:function(){return{swiperOptions:{observeParents:!0,observe:!0}}},methods:{handleGalleryClose:function(){this.$emit("close")}}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container",on:{click:this.handleGalleryClose}},[e("div",{staticClass:"wrapper"},[e("mt-swipe",{attrs:{auto:0}},this._l(this.imgs,function(t,i){return e("mt-swipe-item",{key:i},[e("img",{staticClass:"swiper-img",attrs:{src:t}})])}))],1)])},staticRenderFns:[]};var G=i("VU/8")(B,D,!1,function(t){i("btly")},"data-v-6ec0212a",null).exports,Y={name:"DetailBanner",props:{sightName:String,bannerImg:String,gallaryImgs:Array},data:function(){return{showGallery:!1}},components:{CommonGallery:G},methods:{handleBannerClick:function(){this.showGallery=!0},handleBannerClose:function(){this.showGallery=!1}}},W={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"banner",on:{click:t.handleBannerClick}},[i("img",{staticClass:"img",attrs:{src:t.bannerImg,alt:""}}),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(t.sightName))]),t._v(" "),i("div",{staticClass:"number"},[i("svg",{staticClass:"icon tupian",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tupian"}})]),t._v(" "+t._s(t.gallaryImgs.length)+"\n            ")])])]),t._v(" "),i("common-gallery",{directives:[{name:"show",rawName:"v-show",value:t.showGallery,expression:"showGallery"}],attrs:{imgs:t.gallaryImgs},on:{close:t.handleBannerClose}})],1)},staticRenderFns:[]};var J=i("VU/8")(Y,W,!1,function(t){i("1noW")},"data-v-79d73ada",null).exports,M={name:"DetailHeader",data:function(){return{isShow:!0,opacityStyle:{opacity:0}}},methods:{handlescroll:function(){var t=document.documentElement.scrollTop;if(console.log(t),t>60){var e=t/140;e=e>1?1:e,this.opacityStyle={opacity:e},this.isShow=!1}else this.isShow=!0}},activated:function(){window.addEventListener("scroll",this.handlescroll)},deactivated:function(){window.removeEventListener("scroll",this.handlescroll)}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-link",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"header-icon",attrs:{tag:"div",to:"/"}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])]),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!this.isShow,expression:"!isShow"}],staticClass:"header",style:this.opacityStyle},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"back"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])])]),this._v("城市选择   \n    ")],1)],1)},staticRenderFns:[]};var P=i("VU/8")(M,T,!1,function(t){i("ui5w")},"data-v-6bcbe559",null).exports,z={name:"DetailList",props:{list:Array}},Z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.list,function(e,s){return i("div",{key:s},[i("div",{staticClass:"item"},[i("span",{staticClass:"item-title-icon"}),t._v(" "),i("span",{staticClass:"item-title"},[t._v(t._s(e.title))])]),t._v(" "),e.children?i("div",{staticClass:"item-children"},[i("detail-list",{attrs:{list:e.children}})],1):t._e()])}))},staticRenderFns:[]};var q={name:"Detail",data:function(){return{list:[],sightName:"",bannerImg:"",gallaryImgs:[]}},components:{DetailBanner:J,DetailHeader:P,DetailList:i("VU/8")(z,Z,!1,function(t){i("oAFV")},"data-v-001fadc6",null).exports},methods:{getHomeInfo:function(){b.a.get("/travel/dist/static/mock/detail.json",{params:{id:this.$route.params.id}}).then(this.getHomeInfoSucc)},getHomeInfoSucc:function(t){if((t=t.data).ret&&t.data){var e=t.data;this.sightName=e.sightName,this.bannerImg=e.bannerImg,this.gallaryImgs=e.gallaryImgs,this.list=e.categoryList}}},mounted:function(){this.getHomeInfo()},activated:function(){this.getHomeInfo()}},K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("detail-banner",{attrs:{sightName:this.sightName,bannerImg:this.bannerImg,gallaryImgs:this.gallaryImgs}}),this._v(" "),e("detail-header"),this._v(" "),e("div",{staticClass:"content"},[e("detail-list",{attrs:{list:this.list}})],1)],1)},staticRenderFns:[]};var Q=i("VU/8")(q,K,!1,function(t){i("bJMy")},"data-v-4a89cb5c",null).exports;s.default.use(r.a);var X=new r.a({routes:[{path:"/",name:"Home",component:$},{path:"/city",name:"City",component:j},{path:"/detail/:id",name:"Ditail",component:Q}],scrollBehavior:function(t,e,i){return{x:0,y:0}}});s.default.use(I.a);var tt="上海";try{localStorage.city&&(tt=localStorage.city)}catch(t){console.error(t)}var et=new I.a.Store({state:{city:tt},mutations:{changeCity:function(t,e){t.city=e;try{localStorage.city=e}catch(e){}}}}),it=i("v5o6"),st=i.n(it),nt=(i("9n10"),i("M6Sr"),i("Au9i"));i("d8/S");s.default.config.productionTip=!1,st.a.attach(document.body),s.default.component(nt.Swipe.name,nt.Swipe),s.default.component(nt.SwipeItem.name,nt.SwipeItem),s.default.component(nt.IndexList.name,nt.IndexList),s.default.component(nt.IndexSection.name,nt.IndexSection),new s.default({el:"#app",router:X,store:et,components:{App:a},template:"<App/>"})},"ZkW+":function(t,e){},bJMy:function(t,e){},btly:function(t,e){},"d8/S":function(t,e){},f3ib:function(t,e){},jayz:function(t,e){},mhkY:function(t,e){},oAFV:function(t,e){},pNY7:function(t,e){},rN7C:function(t,e){},rUYx:function(t,e){},ui5w:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.812cb4164d230d2db817.js.map